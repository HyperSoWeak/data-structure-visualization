(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{4103:(e,t,n)=>{Promise.resolve().then(n.bind(n,9906))},9906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var l=n(5155),r=n(2115),s=n(869),a=n(2885),i=n(7494),o=n(845),c=n(1508);class u extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,l=this.props.sizeRef.current;l.height=t.offsetHeight||0,l.width=t.offsetWidth||0,l.top=t.offsetTop,l.left=t.offsetLeft,l.right=n-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n,anchorX:s}=e,a=(0,r.useId)(),i=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,r.useContext)(c.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:l,left:r,right:c}=o.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=a;let u=document.createElement("style");return d&&(u.nonce=d),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(r):"right: ".concat(c),"px !important;\n            top: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(u)}},[n]),(0,l.jsx)(u,{isPresent:n,childRef:i,sizeRef:o,children:r.cloneElement(t,{ref:i})})}let h=e=>{let{children:t,initial:n,isPresent:s,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:h,anchorX:f}=e,m=(0,a.M)(p),g=(0,r.useId)(),b=!0,x=(0,r.useMemo)(()=>(b=!1,{id:g,initial:n,isPresent:s,custom:c,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[s,m,i]);return u&&b&&(x={...x}),(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),r.useEffect(()=>{s||m.size||!i||i()},[s]),"popLayout"===h&&(t=(0,l.jsx)(d,{isPresent:s,anchorX:f,children:t})),(0,l.jsx)(o.t.Provider,{value:x,children:t})};function p(){return new Map}var f=n(2082);let m=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:p=!1,anchorX:b="left"}=e,[x,y]=(0,f.xQ)(p),w=(0,r.useMemo)(()=>g(t),[t]),v=p&&!x?[]:w.map(m),j=(0,r.useRef)(!0),E=(0,r.useRef)(w),N=(0,a.M)(()=>new Map),[S,M]=(0,r.useState)(w),[k,C]=(0,r.useState)(w);(0,i.E)(()=>{j.current=!1,E.current=w;for(let e=0;e<k.length;e++){let t=m(k[e]);v.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[k,v.length,v.join("-")]);let P=[];if(w!==S){let e=[...w];for(let t=0;t<k.length;t++){let n=k[t],l=m(n);v.includes(l)||(e.splice(t,0,n),P.push(n))}return"wait"===d&&P.length&&(e=P),C(g(e)),M(w),null}let{forceRender:R}=(0,r.useContext)(s.L);return(0,l.jsx)(l.Fragment,{children:k.map(e=>{let t=m(e),r=(!p||!!x)&&(w===k||v.includes(t));return(0,l.jsx)(h,{isPresent:r,initial:(!j.current||!!o)&&void 0,custom:n,presenceAffectsLayout:u,mode:d,onExitComplete:r?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),C(E.current),p&&(null==y||y()),c&&c())},anchorX:b,children:e},t)})})};var x=n(3527);function y(e){let{heap:t,highlighted:n}=e,[s,a]=(0,r.useState)([]),i=(0,r.useRef)(null),[o,c]=(0,r.useState)({width:0,height:0});return(0,r.useEffect)(()=>{if(i.current){c({width:i.current.clientWidth,height:i.current.clientHeight});let e=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;c({width:t,height:n})});return e.observe(i.current),()=>{i.current&&e.unobserve(i.current)}}},[]),(0,r.useEffect)(()=>{let e=[];t.forEach((t,n)=>{let l=Math.floor(Math.log2(n+1));e.push({x:(n-(2**l-1)-(2**l-1)/2)*100,y:100*l})}),a(e)},[t]),(0,l.jsxs)("div",{ref:i,className:"relative flex justify-center min-h-[400px] min-w-[800px]",children:[(0,l.jsx)("svg",{className:"absolute w-full h-full pointer-events-none",children:t.map((e,t)=>{let n=Math.floor((t-1)/2);if(0===t||n<0||!s[t]||!s[n])return null;let r=s[n].x+o.width/2,a=s[n].y+30,i=s[t].x+o.width/2,c=s[t].y+30;return(0,l.jsx)("line",{x1:r,y1:a,x2:i,y2:c,stroke:"white",strokeWidth:"2"},"line-".concat(t))})}),(0,l.jsx)(b,{children:t.map((e,t)=>{let r=s[t];return r?(0,l.jsx)(x.P.div,{initial:{scale:0},animate:{scale:1,x:r.x,y:r.y},exit:{scale:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute w-16 h-16 rounded-full flex items-center justify-center font-bold text-xl shadow-md\n    ".concat((null==n?void 0:n.includes(t))?"bg-red-400 text-white":"bg-yellow-400 text-black","\n  "),children:e},e+"-"+t):null})})]})}let w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return Array.from({length:e},()=>Math.floor(100*Math.random())+1)};function v(){let[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("heap"),n=localStorage.getItem("isHeapified");e?(t(JSON.parse(e)),c("true"===n)):t(w())},[]),(0,r.useEffect)(()=>{e.length>0&&(localStorage.setItem("heap",JSON.stringify(e)),localStorage.setItem("isHeapified",JSON.stringify(o)))},[e,o]);let u=e=>new Promise(t=>setTimeout(t,e)),d=async n=>{let l=[...e];for(let e of(console.log("Heap before steps:",l),i(!0),n))"compare"===e.type?(s([e.a,e.b]),await u(600)):"swap"===e.type?([l[e.a],l[e.b]]=[l[e.b],l[e.a]],t([...l]),await u(800)):"delete"===e.type?(l[e.a]=l[l.length-1],l.pop(),t([...l]),await u(800)):"insert"===e.type&&(l.push(e.a),t([...l]),await u(800));s([]),i(!1)},h=async t=>{let n=[...e,t],l=[],r=n.length-1;for(l.push({type:"insert",a:t});r>0;){let e=Math.floor((r-1)/2);if(l.push({type:"compare",a:e,b:r}),n[e]<=n[r])break;l.push({type:"swap",a:e,b:r}),[n[e],n[r]]=[n[r],n[e]],r=e}await u(100),d(l)},p=async()=>{if(0===e.length)return;let t=[...e],n=[];n.push({type:"compare",a:0,b:t.length-1}),n.push({type:"swap",a:0,b:t.length-1}),n.push({type:"delete",a:t.length-1}),t[0]=t[t.length-1],t.pop();let l=0,r=t.length;for(;l<r;){let e=2*l+1,s=2*l+2,a=l;if(e<r&&(n.push({type:"compare",a:a,b:e}),t[e]<t[a]&&(a=e)),s<r&&(n.push({type:"compare",a:a,b:s}),t[s]<t[a]&&(a=s)),a===l)break;n.push({type:"swap",a:l,b:a}),[t[l],t[a]]=[t[a],t[l]],l=a}await u(100),d(n)},f=async()=>{let t=[...e],n=[],l=t.length;for(let e=Math.floor(l/2)-1;e>=0;e--){let r=e;for(;r<l;){let e=2*r+1,s=2*r+2,a=r;if(e<l&&(n.push({type:"compare",a:a,b:e}),t[e]<t[a]&&(a=e)),s<l&&(n.push({type:"compare",a:a,b:s}),t[s]<t[a]&&(a=s)),a===r)break;n.push({type:"swap",a:r,b:a}),[t[r],t[a]]=[t[a],t[r]],r=a}}await u(100),d(n),c(!0)};return(0,l.jsxs)("main",{className:"p-6",children:[(0,l.jsx)("section",{className:"text-center mb-10",children:(0,l.jsx)("h1",{className:"text-4xl font-bold mb-20",children:"\uD83C\uDF31 Heap Visualizer"})}),(0,l.jsx)(y,{heap:e,highlighted:n}),(0,l.jsxs)("div",{className:"mt-10 flex justify-center gap-4",children:[(0,l.jsx)("button",{onClick:()=>{let e=prompt("Insert value:"),t=Number(e);return null===e||""===e.trim()||isNaN(t)?void alert("Please enter a valid number."):t>100||t<1?void alert("Please enter a number between 1 and 100."):void h(t)},disabled:a||!o||e.length>=15,className:"bg-green-500 hover:bg-green-600 py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Insert"}),(0,l.jsx)("button",{onClick:p,disabled:a||!o||0===e.length,className:"bg-red-500 hover:bg-red-600 py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete Min"}),(0,l.jsx)("button",{onClick:f,disabled:a||o,className:"bg-blue-500 hover:bg-blue-600 py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Heapify"}),(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("heap"),localStorage.removeItem("isHeapified"),t(w()),s([]),c(!1)},disabled:a,className:"bg-gray-500 hover:bg-gray-600 py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[527,441,684,358],()=>t(4103)),_N_E=e.O()}]);